import csv

matM = [
            [0,1,99,2,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [1,0,2,2,99,99,7,99,99,99,99,99,99,99,99,99,99,99],
            [99,2,0,3,2,99,99,5,99,99,99,99,99,99,99,99,99,99],
            [2,2,3,0,2,99,99,99,99,3,99,99,99,99,99,99,99,99],
            [99,99,2,2,0,3,99,99,2,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,3,0,99,99,99,3,99,99,99,99,99,99,99,99],
            [99,7,99,99,99,99,0,4,99,99,3,99,99,99,99,99,99,99],
            [99,99,5,99,99,99,4,0,3,99,99,2,99,99,99,99,99,99],
            [99,99,99,99,2,99,99,3,0,2,99,99,2,99,99,99,99,99],
            [99,99,99,3,99,3,99,99,2,0,99,99,99,4,3,99,99,99],
            [99,99,99,99,99,99,3,99,99,99,0,4,99,99,99,2,99,99],
            [99,99,99,99,99,99,99,2,99,99,4,0,2,99,99,3,99,99],
            [99,99,99,99,99,99,99,99,2,99,99,2,0,1,99,99,2,99],
            [99,99,99,99,99,99,99,99,99,4,99,99,1,0,2,99,99,4],
            [99,99,99,99,99,99,99,99,99,3,99,99,99,2,0,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,2,3,99,99,99,0,3,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,2,99,99,3,0,3],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,4,99,99,3,0]
        ]

matT = [
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
            [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99]
        ]




def floyd_recursive(matM, matT, i, j, k, n):
    if k == 0:
        return
    if matM[i][k] + matM[k][j] < matM[i][j]:
        matM[i][j] = matM[i][k] + matM[k][j]
        matT[i][j] = k
        floyd_recursive(matM, matT, i, j, k - 1, n)
        floyd_recursive(matM, matT, i, k, k - 1, n)
        floyd_recursive(matM, matT, k, j, k - 1, n)


n = len(matM)
k = n - 1
i = n - 1
j = n - 1
floyd_recursive(matM, matT, i, j, k, n)



# Imprimir las matrices resultantes
print("Matriz de distancias mÃ­nimas:")
for row in matM:
    print(row)

print("Matriz de rutas intermedias:")
for row in matT:
    print(row)



print("MATRIZ M")
print("\t[0]\t[1]\t[2]\t[3]\t[4]\t[5]\t[6]\t[7]\t[8]\t[9]\t[10]\t[11]\t[12]\t[13]\t[14]\t[15]\t[16]\t[17]")

for i in range(n):
    print("[" + str(i) + "]\t", end="")
    for j in range(n):
        print(str(matM[i][j]) + "\t", end="")
    print()



print("\n\n")
print("MATRIZ T")
print("\t[0]\t[1]\t[2]\t[3]\t[4]\t[5]\t[6]\t[7]\t[8]\t[9]\t[10]\t[11]\t[12]\t[13]\t[14]\t[15]\t[16]\t[17]")

for i in range(n):
    print("[" + str(i) + "]\t", end="")
    for j in range(n):
        print(str(matT[i][j]) + "\t", end="")
    print()


def guardar_matriz_csv(nombre_archivo, matriz):
    with open(nombre_archivo, 'w', newline='') as archivo_csv:
        escritor_csv = csv.writer(archivo_csv)
        for fila in matriz:
            escritor_csv.writerow(fila)

# Guardar matriz M en un archivo CSV
guardar_matriz_csv('matriz_M.csv', matM)

# Guardar matriz T en un archivo CSV
guardar_matriz_csv('matriz_T.csv', matT)
